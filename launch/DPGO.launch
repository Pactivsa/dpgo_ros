<launch>

  <param name="/dimension" type="int" value="3" />
  <param name="/relaxation_rank" type="int" value="5" />
  <param name="/num_robots" type="int" value="5" />
  <param name="/relative_change_tolerance" type="double" value="1e-3" />
  <param name="/function_decrease_tolerance" type="double" value="5e-2" />
  <param name="/max_iteration_number" type="int" value="1000" />

  <param name="/dataset" type="str" value="$(find dpgo_ros)/data/sphere2500.g2o" />

  <!-- Launch indivial PGO agents. Number must match /num_robots -->
  <group ns="kimera0">
    <include file="$(find dpgo_ros)/launch/PGOAgent.launch">
      <arg name="agent_id" value="0" />
    </include>
  </group>

  <group ns="kimera1">
    <include file="$(find dpgo_ros)/launch/PGOAgent.launch">
      <arg name="agent_id" value="1" />
    </include>
  </group>

  <group ns="kimera2">
    <include file="$(find dpgo_ros)/launch/PGOAgent.launch">
      <arg name="agent_id" value="2" />
    </include>
  </group>

  <group ns="kimera3">
    <include file="$(find dpgo_ros)/launch/PGOAgent.launch">
      <arg name="agent_id" value="3" />
    </include>
  </group>

  <group ns="kimera4">
    <include file="$(find dpgo_ros)/launch/PGOAgent.launch">
      <arg name="agent_id" value="4" />
    </include>
  </group>

  <!-- Launch ROS node to publish pose graph -->
  <node name="dataset_publisher" pkg="dpgo_ros" type="dpgo_ros_dataset_publisher_node" output="screen"></node>

  <!-- Launch visualization in rviz -->
  <node name="rviz" pkg="rviz" type="rviz" output="screen" args="-d $(find dpgo_ros)/rviz/default.rviz"></node>

</launch>